<!doctype html><html><head><title>API Reference :: Daptin</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name=revised content="2021-04-03T09:29:49 UTC"><meta name=description content><title>API Reference :: Daptin</title><link rel="shortcut icon" href=/images/favicon.png type=image/x-icon><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css integrity=sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.css><script src=https://code.jquery.com/jquery-3.5.1.min.js></script><link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel=stylesheet><link rel=stylesheet type=text/css href=http://localhost:1313/sass/layout.css><link rel=stylesheet type=text/css href=http://localhost:1313/css/style.main.css><link rel=stylesheet type=text/css href=http://localhost:1313/css/style.menu.css><link rel=stylesheet type=text/css href=http://localhost:1313/sass/shortcodes/notice.css><link rel=stylesheet type=text/css href=http://localhost:1313/sass/shortcodes/tabs.css><link rel=stylesheet type=text/css href=http://localhost:1313/sass/shortcodes/panel.css><link rel=stylesheet type=text/css href=http://localhost:1313/sass/shortcodes/columns.css><link rel=stylesheet type=text/css href=http://localhost:1313/sass/shortcodes/children.css><link rel=stylesheet type=text/css href=http://localhost:1313/sass/shortcodes/attachments.css><link rel=stylesheet type=text/css href=http://localhost:1313/sass/shortcodes/alert.css><link rel=stylesheet type=text/css href=/css/docport.css><script src=/js/docport.js></script><script type=text/javascript>var baseurl="http://localhost:1313"</script><link rel=stylesheet href=/css/custom.css></head><body data-url=/apis/><style type=text/css>#debug{display:-webkit-box;display:-ms-flexbox;display:flex;line-height:3.5rem;margin-bottom:.35rem;padding:0 2rem;position:fixed;left:0;right:0;top:0;top:0;min-height:150px;background-color:#fff;border:3px solid red;z-index:10000;word-wrap:all;overflow:auto}</style><header><div><div class=burger><a href=javascript:void(0); style=font-size:15px onclick="$('article > aside').toggleClass('responsive')">&#9776;</a></div><div><a class=baselink href=http://localhost:1313>Daptin</a></div><nav class=shortcuts><li role><a href=https://github.com/vjeantet/hugo-theme-docport rel=noopener>Github</a></li><li role><a href=https://github.com/vjeantet/hugo-theme-docport/archive/master.zip rel=noopener>Download</a></li><li role><a href=https://gohugo.io/ rel=noopener>Hugo Documentation</a></li><li role><a href=/docport-theme/credits/ rel=noopener>Credits</a></li></nav></div></header><article><aside><div class=search><div class=searchbox><input data-search-input id=search-by type=text placeholder="Type to search..."></div><script type=text/javascript src=/vendor/lunr/lunr.min.js></script><script type=text/javascript src=/vendor/auto-complete/auto-complete.js></script><link href=/vendor/auto-complete/auto-complete.css rel=stylesheet><script type=text/javascript>var baseurl="http://localhost:1313"</script><script type=text/javascript src=/js/search.js></script></div><div id=close_menu><a href=javascript:void(0); style=font-size:15px onclick="$('article > aside').toggleClass('responsive')"><i class="fa fa-lg fa-times"></i></a></div><ul class=menu><li data-nav-id=http://localhost:1313/actions/ class="dd-item
item_level_$level"><a href=/actions/>Actions</a></li><li data-nav-id=http://localhost:1313/apis/ class="dd-item parent active
item_level_$level"><a href=/apis/>API Reference</a></li><li data-nav-id=http://localhost:1313/cloudstore/ class="dd-item
item_level_$level"><a href=/cloudstore/>Page(/cloudstore/_index.md)</a></li><li data-nav-id=http://localhost:1313/data-modeling/ class="dd-item
item_level_$level"><a href=/data-modeling/>Page(/data-modeling/_index.md)</a></li><li data-nav-id=http://localhost:1313/extend/ class="dd-item
item_level_$level"><a href=/extend/>Page(/extend/_index.md)</a></li><li data-nav-id=http://localhost:1313/groups/ class="dd-item
item_level_$level"><a href=/groups/>Page(/groups/_index.md)</a></li><li data-nav-id=http://localhost:1313/integrations/ class="dd-item
item_level_$level"><a href=/integrations/>Page(/integrations/_index.md)</a></li><li data-nav-id=http://localhost:1313/setting-up/ class="dd-item
item_level_$level"><a href=/setting-up/>Page(/setting-up/_index.md)</a></li><li data-nav-id=http://localhost:1313/state/ class="dd-item
item_level_$level"><a href=/state/>Page(/state/_index.md)</a></li><li data-nav-id=http://localhost:1313/streams/ class="dd-item
item_level_$level"><a href=/streams/>Page(/streams/_index.md)</a></li><li data-nav-id=http://localhost:1313/subsite/ class="dd-item
item_level_$level"><a href=/subsite/>Page(/subsite/_index.md)</a></li><li data-nav-id=http://localhost:1313/tables/ class="dd-item
item_level_$level"><a href=/tables/>Page(/tables/_index.md)</a></li><li data-nav-id=http://localhost:1313/user-management/ class="dd-item
item_level_$level"><a href=/user-management/>Page(/user-management/_index.md)</a></li><li data-nav-id=http://localhost:1313/users/ class="dd-item
item_level_$level"><a href=/users/>Page(/users/_index.md)</a></li><li data-nav-id=http://localhost:1313/websockets/ class="dd-item
item_level_$level"><a href=/websockets/>Page(/websockets/_index.md)</a></li><li data-nav-id=http://localhost:1313/features/ class="dd-item
item_level_$level"><a href=/features/>Features</a></li><li data-nav-id=http://localhost:1313/guides/ class="dd-item
item_level_$level"><a href=/guides/>Guides</a></li><li data-nav-id=http://localhost:1313/reference/ class="dd-item
item_level_$level"><a href=/reference/>References</a></li></ul><center><a class=github-button href=https://github.com/vjeantet/hugo-theme-docport/archive/master.zip data-icon=octicon-cloud-download aria-label="Download vjeantet/hugo-theme-docport on GitHub">Download</a>
<a class=github-button href=https://github.com/vjeantet/hugo-theme-docport data-icon=octicon-star data-show-count=false aria-label="Star vjeantet/hugo-theme-docport on GitHub">Star</a>
<a class=github-button href=https://github.com/vjeantet/hugo-theme-docport/fork data-icon=octicon-repo-forked data-show-count=true aria-label="Fork vjeantet/hugo-theme-docport on GitHub">Fork</a></center>
<script async defer src=https://buttons.github.io/buttons.js></script></aside><section class=page><nav id=ariane aria-label=breadcrumb><ol class=ariane><li><a class=text-link href=http://localhost:1313>Home</a></li><li class=active>API Reference</li></ol></nav><h1>API Reference</h1><div class=jump-to-section><span onclick="$h=$(this),$h.next('nav').slideToggle(100,function(){$h.children('i').attr('class',function(){return $h.next('nav').is(':visible')?'fas fa-chevron-down':'fas fa-chevron-right'})})"><span class="fas fa-align-right"></span>Jump to Section
<i class="fas fa-chevron-right"></i></span><nav id=TableOfContents><ul><li><a href=#api-overview>API Overview</a><ul><li><a href=#crud-api>CRUD API</a></li><li><a href=#action-api>Action API</a></li><li><a href=#relation-apis>Relation APIs</a></li><li><a href=#aggregate-api>Aggregate API</a></li><li><a href=#state-machine-apis>State machine APIs</a></li><li><a href=#websocket-api-wip>Websocket API (wip)</a></li><li><a href=#metadata-api>Metadata API</a></li></ul></li><li><a href=#read>Read</a><ul><li><a href=#query-parameters>Query Parameters</a></li><li><a href=#response>Response</a></li><li><a href=#examples>Examples</a></li><li><a href=#filtering>Filtering</a></li></ul></li><li><a href=#create>Create</a></li><li><a href=#update>Update</a></li><li><a href=#delete>Delete</a></li><li><a href=#execute>Execute</a></li><li><a href=#relations>Relations</a></li></ul></nav></div><div class=content><h1 ref=api-reference>API reference</h1><a class=anchor id=api-reference></a><p>Daptin exposes various endpoints for each entity defined in the schema:</p><ul><li>Create</li><li>Find one</li><li>Update</li><li>Delete</li><li>Find all</li><li>Find relations</li><li>Execute action</li><li>Aggregate</li><li>State management</li></ul><p>All endpoints allow authentication using the Authorization Header.</p><h2 ref=api-overview>API Overview</h2><a class=anchor id=api-overview></a><h3 ref=crud-api>CRUD API</h3><a class=anchor id=crud-api></a><p>Read/Create/Update/Delete</p><table><thead><tr><th>GET</th><th>/api/{entityName}</th><th>Query Params</th><th>Request Body</th><th>Description</th></tr></thead><tbody><tr><td>GET</td><td>/api/{entityName}</td><td>page[size]= page[number] query filter</td><td></td><td><a href=#read>Detailed documentation</a></td></tr><tr><td>POST</td><td>/api/{entityName}</td><td></td><td></td><td>Find all rows, paginated with query and filters <a href=#create>Example</a></td></tr><tr><td>PATCH</td><td>/api/{entityName}/{id}</td><td></td><td>{&ldquo;attributes&rdquo;: { &mldr;{fields} } &ldquo;type&rdquo;: &ldquo;{entityType} }</td><td>Update row by reference id <a href=#update>Example</a></td></tr><tr><td>PUT</td><td>/api/{entityName}/{id}</td><td></td><td>{&ldquo;attributes&rdquo;: { } &ldquo;type&rdquo;: &ldquo;{entityType} }</td><td>Update row by reference id <a href=#update>Example</a></td></tr><tr><td>DELETE</td><td>/api/{entityName}/{id}</td><td></td><td></td><td>Delete a row <a href=#delete>Example</a></td></tr></tbody></table><h3 ref=action-api>Action API</h3><a class=anchor id=action-api></a><table><thead><tr><th>GET</th><th>/action/{entityName}/{actionName}</th><th>Query Params</th><th>Request Body</th><th>Description</th></tr></thead><tbody><tr><td>POST</td><td>/api/{entityName}/</td><td>action parameters</td><td>Action Parameters</td><td>Execute action</td></tr></tbody></table><h3 ref=relation-apis>Relation APIs</h3><a class=anchor id=relation-apis></a><table><thead><tr><th>Method</th><th>Path</th><th>Query params</th><th>Request body</th><th>Description</th></tr></thead><tbody><tr><td>GET</td><td>/api/{entityName}/{id}/{relationName}</td><td>page[size]= page[number] query filter</td><td></td><td>Find all related rows by relation name, eg, &ldquo;posts&rdquo; of a user</td></tr><tr><td>DELETE</td><td>/api/{entityName}/{id}/{relationName}</td><td></td><td>{&ldquo;id&rdquo;: , &ldquo;type&rdquo;: }</td><td>Delete a related row, eg: delete post of a user. this only removes a relation and not the actual row.</td></tr><tr><td>GET</td><td>/action/{entityName}/{actionName}</td><td>Parameters for action</td><td></td><td>Invoke an action on an entity</td></tr><tr><td>POST</td><td>/action/{entityName}/{actionName}</td><td></td><td>{ &ldquo;attribute&rdquo;: { Parameters for action }, &ldquo;id&rdquo;: &ldquo;&lt; object id >&rdquo; type: &ldquo;&lt; entity type >&rdquo; }</td><td>Invoke an action on an entity</td></tr></tbody></table><h3 ref=aggregate-api>Aggregate API</h3><a class=anchor id=aggregate-api></a><table><thead><tr><th>Method</th><th>Path</th><th>Query params</th><th>Request body</th><th>Description</th></tr></thead><tbody><tr><td>GET</td><td>/stats/{typeName}</td><td>group/filter/join/column/timestamp/timefrom/timeto/order</td><td></td><td>Run aggregate function over entity table</td></tr></tbody></table><h3 ref=state-machine-apis>State machine APIs</h3><a class=anchor id=state-machine-apis></a><p>Enabled for the entities for which you have enabled state machines</p><table><thead><tr><th>Method</th><th>Path</th><th>Query params</th><th>Request body</th><th>Description</th></tr></thead><tbody><tr><td>POST</td><td>/track/start/{stateMachineId}</td><td></td><td>{ &ldquo;id&rdquo;: " &lt; reference id >&rdquo;, type: " &lt; entity type > " }</td><td>Start tracking according to the state machine for an object</td></tr><tr><td>POST</td><td>/track/event/{typename}/{objectStateId}/{eventName}</td><td></td><td></td><td>Invoke an event on a particular track of the state machine for a object</td></tr></tbody></table><h3 ref=websocket-api-wip>Websocket API (wip)</h3><a class=anchor id=websocket-api-wip></a><p>Listed to incoming updates to data over websocket live</p><table><thead><tr><th>Method</th><th>Path</th><th>Query params</th><th>Request body</th><th>Description</th></tr></thead><tbody><tr><td>GET</td><td>/live</td><td></td><td></td><td>Initiate a web socket connection</td></tr></tbody></table><h3 ref=metadata-api>Metadata API</h3><a class=anchor id=metadata-api></a><p>Meatadata APIs expose information about the daptin server itself</p><table><thead><tr><th>Method</th><th>Path</th><th>Query params</th><th>Request body</th><th>Description</th></tr></thead><tbody><tr><td>GET</td><td>/apispec.raml</td><td></td><td></td><td>RAML Spec for all API&rsquo;s exposed by the current instance</td></tr><tr><td>GET</td><td>/ping</td><td></td><td></td><td>Replies with PONG, Endpoint for liveness probe</td></tr><tr><td>GET</td><td>/statistics</td><td></td><td></td><td>Replies with PONG, Endpoint for healht check probe</td></tr></tbody></table><h2 ref=read>Read</h2><a class=anchor id=read></a><h3 ref=query-parameters>Query Parameters</h3><a class=anchor id=query-parameters></a><table><thead><tr><th>Name</th><th>parameter type</th><th>default value</th><th>example value</th></tr></thead><tbody><tr><td>page[number]</td><td>integer</td><td>1</td><td>5</td></tr><tr><td>page[size]</td><td>integer</td><td>10</td><td>100</td></tr><tr><td>query</td><td>json base64</td><td>[]</td><td>[{&ldquo;column&rdquo;: &ldquo;name&rdquo;, &ldquo;operator&rdquo;: &ldquo;is&rdquo;, &ldquo;value&rdquo;: &ldquo;england&rdquo;}]</td></tr><tr><td>group</td><td>string</td><td>-</td><td>[{&ldquo;column&rdquo;: &ldquo;name&rdquo;, &ldquo;order&rdquo;: &ldquo;desc&rdquo;}]</td></tr><tr><td>included_relations</td><td>comma separated string</td><td>-</td><td>user post author</td></tr><tr><td>sort</td><td>comma seaparated string</td><td>-</td><td>created_at amount guest_count</td></tr><tr><td>filter</td><td>string</td><td>-</td><td>england</td></tr></tbody></table><h3 ref=response>Response</h3><a class=anchor id=response></a><p>!!! example &ldquo;Response example&rdquo;
<code>json
{
"links": {
"current_page": 1,
"from": 0,
"last_page": 1,
"per_page": 10,
"to": 10,
"total": 1
},
"data": [{
"type": "book",
"id": "29d11cb3-3fad-4972-bf3b-9cfc6da9e6a6",
"attributes": {
"__type": "book",
"confirmed": 0,
"created_at": "2018-04-05 15:47:29",
"title": "book title",
"name": "book name",
"permission": 127127127,
"reference_id": "29d11cb3-3fad-4972-bf3b-9cfc6da9e6a6",
"updated_at": null,
"user_id": "696c98d3-3b8b-41da-a510-08e6948cf661"
},
"relationships": {
"author_id": {
"links": {
"related": "/api/book/&lt;book-id/author_id",
"self": "/api/book/&lt;book-id>/relationships/author_id"
},
"data": []
}
}
}]
}</code></p><h3 ref=examples>Examples</h3><a class=anchor id=examples></a><h4 ref=curl-example>Curl example</h4><a class=anchor id=curl-example></a><pre><code>curl '/api/&lt;entityName&gt;?sort=&amp;page[number]=1&amp;page[size]=10' \
  -H 'Authorization: Bearer &lt;AccessToken&gt;'
</code></pre><h4 ref=jquery-ajax-example>jQuery ajax example</h4><a class=anchor id=jquery-ajax-example></a><pre><code>$.ajax({
    method: &quot;GET&quot;,
    url: '/api/&lt;entityName&gt;?sort=&amp;page[number]=1&amp;page[size]=10',
    success: function(response){
        console.log(response.data);
    }
  })
</code></pre><h4 ref=node-js-example>Node js example</h4><a class=anchor id=node-js-example></a><pre><code>var request = require('request');

var headers = {
    'Authorization': 'Bearer &lt;AccessToken&gt;'
};

var options = {
    url: '/api/&lt;entityName&gt;?sort=&amp;page[number]=1&amp;page[size]=10',
    headers: headers
};

function callback(error, response, body) {
    if (!error &amp;&amp; response.statusCode == 200) {
        console.log(body);
    }
}

request(options, callback);
</code></pre><h4 ref=python-example>Python example</h4><a class=anchor id=python-example></a><pre><code>import requests

headers = {
    'Authorization': 'Bearer &lt;AccessToken&gt;',
}

params = (
    ('sort', '-created_at'),
    ('page[number]', '1'),
    ('page[size]', '10'),
)

response = requests.get('http://localhost:6336/api/laptop', headers=headers, params=params)
</code></pre><h4 ref=php-example>PHP example</h4><a class=anchor id=php-example></a><pre><code>&lt;?php
include('vendor/rmccue/requests/library/Requests.php');
Requests::register_autoloader();
$headers = array(
    'Authorization' =&gt; 'Bearer &lt;AccessToken&gt;'
);
$response = Requests::get('http://localhost:6336/api/laptop?sort=&amp;page[number]=1&amp;page[size]=10', $headers);
</code></pre><h3 ref=filtering>Filtering</h3><a class=anchor id=filtering></a><p>Used to search items in a table that matche the filter&rsquo;s conditions. Filters follow the syntax <code>query=[{"column": "&lt;column_name>", "operator": "&lt;compare-operator>", "value":"&lt;value>"}]</code></p><table><thead><tr><th>Daptin operator</th><th>SQL compare operator</th></tr></thead><tbody><tr><td>contains</td><td>like &lsquo;%&lt;value>&rsquo;</td></tr><tr><td>not contains</td><td>not like &lsquo;%&lt;value>&rsquo;</td></tr><tr><td>is</td><td>=</td></tr><tr><td>is not</td><td>!=</td></tr><tr><td>before</td><td>&lt;</td></tr><tr><td>less then</td><td>&lt;</td></tr><tr><td>after</td><td>></td></tr><tr><td>more then</td><td>></td></tr><tr><td>any of</td><td>in</td></tr><tr><td>none of</td><td>not in</td></tr><tr><td>is empty</td><td>is null</td></tr><tr><td>is not empty</td><td>is not null</td></tr></tbody></table><h4 ref=example>Example</h4><a class=anchor id=example></a><pre><code>curl '/api/world?query=[{&quot;column&quot;: &quot;is_hidden&quot;, &quot;operator&quot;: &quot;any of&quot;, &quot;value&quot;:&quot;1,0&quot;}] \
  -H 'Authorization: Bearer &lt;AccessToken&gt;'
</code></pre><h2 ref=create>Create</h2><a class=anchor id=create></a><p>!!! example &ldquo;Curl Example&rdquo;
<code>curl
curl '/api/&lt;EntityName>'
-H 'Authorization: Bearer &lt;Token>'
--data-binary '{
"data": {
"type": "&lt;EntityName>",
"attributes": {
"name": "name"
}
}
}'</code></p><p>!!! example &ldquo;Nodejs example&rdquo;
```nodejs
var request = require(&lsquo;request&rsquo;);</p><pre><code> var headers = {
     'Authorization': 'Bearer &lt;Token&gt;',
 };

 var dataString = '{
                     &quot;data&quot;: {
                         &quot;type&quot;: &quot;&lt;EntityName&gt;&quot;,
                         &quot;attributes&quot;: {
                             &quot;name&quot;: &quot;name&quot;
                         }
                     }
                   }';

 var options = {
     url: '/api/&lt;EntityName&gt;',
     method: 'POST',
     headers: headers,
     body: dataString
 };

 function callback(error, response, body) {
     if (!error &amp;&amp; response.statusCode == 200) {
         console.log(body);
     }
 }

 request(options, callback);
 ```
</code></pre><p>!!! example &ldquo;Python example&rdquo;
```python
import requests</p><pre><code> headers = {
     'Authorization': 'Bearer &lt;Token&gt;',
 }

 data = '{
             &quot;data&quot;: {
                 &quot;type&quot;: &quot;&lt;EntityName&gt;&quot;,
                 &quot;attributes&quot;: {
                     &quot;name&quot;: &quot;name&quot;
                 }
             }
         }'

 response = requests.post('/api/&lt;EntityName&gt;', headers=headers, data=data)
 ```
</code></pre><p>!!! example &ldquo;PHP Example&rdquo;
<code>php
&lt;?php
include('vendor/rmccue/requests/library/Requests.php');
Requests::register_autoloader();
$headers = array(
'Authorization' => 'Bearer &lt;Token>',
);
$data = '{
"data": {
"type": "&lt;EntityName>",
"attributes": {
"name": "name"
}
}
}';
$response = Requests::post('/api/&lt;EntityName>', $headers, $data);</code></p><h2 ref=update>Update</h2><a class=anchor id=update></a><p>!!! example &ldquo;Curl example&rdquo;
<code>curl
curl '/api/&lt;EntityName>/&lt;ReferenceId>' \
-X PATCH \
-H 'Authorization: Bearer &lt;Token>' \
--data-binary '{
"data": {
"type": "&lt;EntityName>",
"attributes": {
"confirmed": false,
"email": "update@gmail.com",
"name": "new name",
"password": ""
},
"id": "&lt;ReferenceId>"
}
}'</code></p><p>!!! example &ldquo;Nodejs example&rdquo;
```nodejs
var request = require(&lsquo;request&rsquo;);</p><pre><code>var headers = {
    'Authorization': 'Bearer &lt;Token&gt;'
};

var dataString = '{
                  &quot;data&quot;: {
                      &quot;type&quot;: &quot;&lt;EntityName&gt;&quot;,
                      &quot;attributes&quot;: {
                          &quot;confirmed&quot;: false,
                          &quot;email&quot;: &quot;update@gmail.com&quot;,
                          &quot;name&quot;: &quot;new name&quot;,
                          &quot;password&quot;: &quot;&quot;,
                          &quot;permission&quot;: 127127127,
                      },
                      &quot;relationships&quot;: {
                          &quot;relation_name&quot;: [ ... ]
                      },
                      &quot;id&quot;: &quot;&lt;ReferenceId&gt;&quot;
                  }
                }';

var options = {
    url: '/api/&lt;EntityName&gt;/&lt;ReferenceId&gt;',
    method: 'PATCH',
    headers: headers,
    body: dataString
};

function callback(error, response, body) {
    if (!error &amp;&amp; response.statusCode == 200) {
        console.log(body);
    }
}


request(options, callback);
```
</code></pre><p>!!! example &ldquo;Python example&rdquo;
```python
import requests</p><pre><code>headers = {
    'Authorization': 'Bearer &lt;Token&gt;',
}

data = '{
          &quot;data&quot;: {
              &quot;type&quot;: &quot;&lt;EntityName&gt;&quot;,
              &quot;attributes&quot;: {
                  &quot;confirmed&quot;: false,
                  &quot;email&quot;: &quot;update@gmail.com&quot;,
                  &quot;name&quot;: &quot;new name&quot;,
                  &quot;password&quot;: &quot;&quot;,
                  &quot;permission&quot;: 127127127,
              },
              &quot;relationships&quot;: {
                  &quot;relation_name&quot;: [ ... ]
              },
              &quot;id&quot;: &quot;&lt;ReferenceId&gt;&quot;
          }
        }'

response = requests.patch('/api/&lt;EntityName&gt;/&lt;ReferenceId&gt;', headers=headers, data=data)
```
</code></pre><p>!!! example &ldquo;PHP example&rdquo;
<code>php
&lt;?php
include('vendor/rmccue/requests/library/Requests.php');
Requests::register_autoloader();
$headers = array(
'Authorization' => 'Bearer &lt;Token>'
);
$data = '{
"data": {
"type": "&lt;EntityName>",
"attributes": {
"confirmed": false,
"email": "update@gmail.com",
"name": "new name",
"password": "",
"permission": 127127127,
},
"relationships": {
"relation_name": [ ... ]
},
"id": "&lt;ReferenceId>"
}
}';
$response = Requests::patch('/api/&lt;EntityName>/&lt;ReferenceId>', $headers, $data);</code></p><h2 ref=delete>Delete</h2><a class=anchor id=delete></a><p>Delete a row from a table</p><p>!!! example &ldquo;Curl example&rdquo;
<code>bash
curl '/api/user_account/a5b9add2-ea56-4717-a785-7dee71a2ae46' -X DELETE -H 'Authorization: Bearer &lt;Token>'</code></p><p>!!! example &ldquo;Nodejs example&rdquo;
```nodejs
var request = require(&lsquo;request&rsquo;);</p><pre><code>var headers = {
    'Authorization': 'Bearer &lt;Token&gt;'
};

var options = {
    url: '/api/user_account/a5b9add2-ea56-4717-a785-7dee71a2ae46',
    method: 'DELETE',
    headers: headers
};

function callback(error, response, body) {
    if (!error &amp;&amp; response.statusCode == 200) {
        console.log(body);
    }
}

request(options, callback);
```
</code></pre><p>!!! example &ldquo;Python example&rdquo;
```python
import requests</p><pre><code>headers = {
    'Authorization': 'Bearer &lt;Token&gt;',
}

response = requests.delete('/api/user_account/a5b9add2-ea56-4717-a785-7dee71a2ae46', headers=headers)
```
</code></pre><p>!!! example &ldquo;PHP example&rdquo;
<code>php
&lt;?php
include('vendor/rmccue/requests/library/Requests.php');
Requests::register_autoloader();
$headers = array(
'Authorization' => 'Bearer &lt;Token>'
);
$response = Requests::delete('/api/user_account/a5b9add2-ea56-4717-a785-7dee71a2ae46', $headers);</code></p><h2 ref=execute>Execute</h2><a class=anchor id=execute></a><p>Execute an action on an entity type or instance</p><p>!!! example &ldquo;Curl example&rdquo;
<code>curl
curl '/action/&lt;EntityName>/&lt;ActionName>' -H 'Authorization: Bearer &lt;Token>' --data-binary '{"attributes":{}}'</code></p><p>!!! example &ldquo;PHP Example&rdquo;
<code>php
&lt;?php
include('vendor/rmccue/requests/library/Requests.php');
Requests::register_autoloader();
$headers = array(
'Authorization' => 'Bearer &lt;Token>'
);
$data = '{"attributes":{}}';
$response = Requests::post('/action/&lt;EntityName>/&lt;ActionName>', $headers, $data);</code></p><p>!!! example &ldquo;Nodejs example&rdquo;
```nodejs
var request = require(&lsquo;request&rsquo;);</p><pre><code>var headers = {
    'Authorization': 'Bearer &lt;Token&gt;'
};

var dataString = '{&quot;attributes&quot;:{}}';

var options = {
    url: '/action/&lt;EntityName&gt;/&lt;ActionName&gt;',
    method: 'POST',
    headers: headers,
    body: dataString
};

function callback(error, response, body) {
    if (!error &amp;&amp; response.statusCode == 200) {
        console.log(body);
    }
}

request(options, callback);
```
</code></pre><p>!!! example &ldquo;Python example&rdquo;
```python
import requests</p><pre><code>headers = {
    'Authorization': 'Bearer &lt;Token&gt;',
}

data = '{&quot;attributes&quot;:{}}'

response = requests.post('/action/&lt;EntityName&gt;/&lt;ActionName&gt;', headers=headers, data=data)
```
</code></pre><h2 ref=relations>Relations</h2><a class=anchor id=relations></a><p>!!! example &ldquo;curl example&rdquo;
<code>bash
curl '/api/&lt;EntityName>/&lt;ReferenceId>/&lt;RelationName>?sort=&page[number]=1&page[size]=10' -H 'Authorization: Bearer &lt;Token>'</code></p><p>!!! example &ldquo;php example&rdquo;
<code>php
&lt;?php
include('vendor/rmccue/requests/library/Requests.php');
Requests::register_autoloader();
$headers = array(
'Authorization' => 'Bearer &lt;Token>'
);</code></p><p>!!! example &ldquo;python example&rdquo;
```python
import requests</p><pre><code>headers = {
    'Authorization': 'Bearer &lt;Token&gt;',
}

params = (
    ('sort', ''),
    ('page/[number/]', '1'),
    ('page/[size/]', '10'),
)

response = requests.get('http://localhost:6336/api/user_account/696c98d3-3b8b-41da-a510-08e6948cf661/marketplace_id', headers=headers, params=params)

#NB. Original query string below. It seems impossible to parse and
#reproduce query strings 100% accurately so the one below is given
#in case the reproduced version is not &quot;correct&quot;.
# response = requests.get('http://localhost:6336/api/user_account/696c98d3-3b8b-41da-a510-08e6948cf661/marketplace_id?sort=&amp;page\[number\]=1&amp;page\[size\]=10', headers=headers)

```
</code></pre><p>!!! example &ldquo;nodejs example&rdquo;
```nodejs
var request = require(&lsquo;request&rsquo;);</p><pre><code>var headers = {
    'Authorization': 'Bearer &lt;Token&gt;'
};

var options = {
    url: '/api/&lt;EntityName&gt;/&lt;ReferenceId&gt;/&lt;RelationName&gt;?sort=&amp;page[number]=1&amp;page[size]=10',
    headers: headers
};

function callback(error, response, body) {
    if (!error &amp;&amp; response.statusCode == 200) {
        console.log(body);
    }
}

request(options, callback);
```
</code></pre><p>!!! example &ldquo;python example&rdquo;
```python
import requests</p><pre><code>headers = {
    'Authorization': 'Bearer &lt;Token&gt;',
}

params = (
    ('sort', ''),
    ('page[number]', '1'),
    ('page[size]', '10'),
)

response = requests.get('/api/&lt;EntityName&gt;/&lt;ReferenceId&gt;/&lt;RelationName&gt;', headers=headers, params=params)

```</code></pre></div><div class=chevrons><a class=next href=/cloudstore/ title style=margin-right:0><div><p>Next page</p><label></label></div><i class="fas fa-arrow-right" style=font-size:1.7em></i></a></div></section><section class=right-menu><div class=TableOfContents><label><i class="fas fa-align-right"></i>&nbsp;&nbsp;What's on this page</label><nav><ul><li><a href=/apis/>API Reference</a></li></ul></nav><nav id=TableOfContents><ul><li><a href=#api-overview>API Overview</a><ul><li><a href=#crud-api>CRUD API</a></li><li><a href=#action-api>Action API</a></li><li><a href=#relation-apis>Relation APIs</a></li><li><a href=#aggregate-api>Aggregate API</a></li><li><a href=#state-machine-apis>State machine APIs</a></li><li><a href=#websocket-api-wip>Websocket API (wip)</a></li><li><a href=#metadata-api>Metadata API</a></li></ul></li><li><a href=#read>Read</a><ul><li><a href=#query-parameters>Query Parameters</a></li><li><a href=#response>Response</a></li><li><a href=#examples>Examples</a></li><li><a href=#filtering>Filtering</a></li></ul></li><li><a href=#create>Create</a></li><li><a href=#update>Update</a></li><li><a href=#delete>Delete</a></li><li><a href=#execute>Execute</a></li><li><a href=#relations>Relations</a></li></ul></nav></div><div class=Actions><nav><ul><li><a href=http://localhost:1313admin/#/collections/pages/entries/apis/_index target=blank><i class="fab fa-github"></i>
Improve this page</a></li></ul></nav></div></section></article><footer><style type=text/css>.footer-gray{width:100%;color:#888}.footer-custom{font:12px/1.4 sans-serif;box-sizing:border-box;margin:0 auto;padding:24px}.footer-custom:after{display:table;clear:both;content:""}.footer-lists:after{display:table;clear:both;content:""}.ftr-hdr{color:#fff;font:22px/1.4 sans-serif;margin:1em 0 0}@media only screen and (min-width:768px){.ftr-hdr{font-size:18px}}.footer-list-wrap{width:50%;float:left;box-sizing:border-box}@media only screen and (min-width:568px){.footer-list-wrap{width:33.3333%}}@media only screen and (min-width:768px){.footer-list-wrap{width:25%}}.ftr-links-sub{padding:0;margin:0}.ftr-links-sub:after{display:table;clear:both;content:""}.ftr-links-sub li{display:block;list-style-type:none;margin:0;padding:3px 0;color:#888;font:12px sans-serif;text-transform:uppercase}.footer-custom a,.footer-custom a:link,.footer-custom a:visited,.ftr-links-sub li .link{text-decoration:none;color:#888;padding:5px 0;display:block}.footer-custom .footer-legal a{display:inline}.footer-custom a:hover,.footer-custom a:active,.ftr-links-sub li .link:hover{text-decoration:underline;color:#888;cursor:pointer}@media only screen and (min-width:768px){.footer-custom a,.footer-custom a:link,.footer-custom a:visited,.ftr-links-sub li .link{padding:0}}.footer-email{text-align:center}#ftrEmailForm{height:44px}#ftrEmailForm .error{display:none;color:red;text-align:left}#ftrEmailForm #ftrEmailInput{background:repeat #fff;border:1px solid #d6d6d6;box-sizing:border-box;color:#888;float:left;font:14px/1.4 sans-serif;padding:5px;width:70%;height:100%}#ftrEmailForm #ftrEmailInput:hover{border:1px solid #888}#ftrEmailForm #ftrEmailInput:focus{border:1px solid #ef9223;outline:#ef9223 auto 5px}#ftrEmailForm .button{width:30%;height:100%;padding:5px;float:left;border:1px solid #dfdfdf;box-sizing:border-box;color:#000;font:700 18px/1 sans-serif;text-align:center;text-transform:uppercase;background:#fff;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodâ€¦EiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,white),color-stop(100%,#e1e1e1));background:-webkit-linear-gradient(top,white 0,#e1e1e1 100%);background:-moz-linear-gradient(top,white 0,#e1e1e1 100%);background:-ms-linear-gradient(top,white 0,#e1e1e1 100%);background:-o-linear-gradient(top,white 0,#e1e1e1 100%);background:linear-gradient(to bottom,white 0,#e1e1e1 100%);cursor:pointer;vertical-align:middle;outline:none}#ftrEmailForm .button:hover,#ftrEmailForm .button:active{background:#000;color:#fff;outline:none}.footer-social{text-align:center}.footer-social ul{padding:0;display:inline-block;list-style-type:none}.footer-social ul:after{display:table;clear:both;content:""}.footer-social li{float:left;margin:0 15px 0 0;padding:0}@media only screen and (min-width:768px){.footer-lists{width:100%}.footer-email{width:50%;float:left;text-align:left}.footer-social{width:45%;margin-left:5%;float:left;text-align:left}}@media only screen and (min-width:1008px){.footer-lists{width:66.6666%;float:left}.footer-email{width:33.3333%}.footer-social{width:33.3333%;float:right;margin-left:0}}.footer-legal{padding:15px 0 0;clear:left}.footer-payment{text-align:center}@media only screen and (min-width:768px){.footer-legal{width:66.6666%;float:left}.footer-payment{width:33.3333%;float:left}}@media only screen and (min-width:1008px){.footer-payment{text-align:left}}.footer-payment ul{padding:0;display:inline-block;list-style-type:none}.footer-payment ul li{display:inline-block;margin:0 6px}@media only screen and (min-width:1008px){.footer-payment ul li.ftr-stella{margin-left:0}}</style><div class=footer-gray><div class=footer-custom><div class=footer-lists><div class=footer-list-wrap><h6 class=ftr-hdr>Order Something</h6><ul class=ftr-links-sub><li>800-123-4567</li></ul><h6 class=ftr-hdr>International</h6><ul class=ftr-links-sub><li><a href=# rel=nofollow>France</a></li><li><a href=# rel=nofollow>Cape Verde</a></li></ul></div><div class=footer-list-wrap><h6 class=ftr-hdr>Customer Service</h6><ul class=ftr-links-sub><li><a href=# rel=nofollow>Contact Us</a></li><li><a href=# rel=nofollow>Ordering</a></li><li><a href=# rel=nofollow>Shipping & Delivery</a></li><li><a href=# rel=nofollow>Returns</a></li><li><a href=# rel=nofollow>Gift Cards</a></li><li><a href=# rel=nofollow>FAQs</a></li></ul></div><div class=footer-list-wrap><h6 class=ftr-hdr>About DocPort</h6><ul class=ftr-links-sub><li><a href=# rel=nofollow>Our Company</a></li><li><a href=# rel=nofollow>Careers</a></li><li><a href=# rel=nofollow>Affiliate Program</a></li><li><a href=# rel=nofollow><strong>Shop Our Catalog</strong></a></li><li><a href=# rel=nofollow>DocPort BLOG</a></li></ul></div><div class=footer-list-wrap><h6 class=ftr-hdr>My Account</h6><ul class=ftr-links-sub><art:content rule=!loggedin><li class=ftr-Login><span class="link login-trigger">Access My Account</span></li><li><span class=link>Track My Order</span></li></art:content><art:content rule=loggedin><li class=ftr-Login><span class="link ftr-access-my-account">Access My Account</span></li><li><span class=link>Track My Order</span></li></art:content></ul></div></div><div class=footer-email><h6 class=ftr-hdr>Sign up for exclusive offers and inspiration</h6><div id=ftr-email class=ftr-email-form><form id=ftrEmailForm method=post action=#><div class=error>Please enter a valid email address</div><input type=text name=email_address_ id=ftrEmailInput class=input placeholder="Enter email address"></form></div><div class=ftr-email-privacy-policy></div></div><div class=footer-social><h6 class=ftr-hdr>Follow Us</h6><ul><li><a href=# title=Facebook><img width=24 height=24 alt="Like us on Facebook" src=/images/fb.png></a></li><li><a href=# title=Google+><img width=24 height=24 alt="Follow us on Google+" src=/images/gplus.png></a></li><li><a href=# target=_blank><img width=24 height=24 alt="Follow us on Pinterest" src=/images/pin-badge.png></a></li><li><a target=_blank href=#><img width=24 height=24 alt="Follow us on Instagram" src=/images/instagram-badge.png></a></li><li><a href=# title=Twitter><img width=67 alt="Follow us on Twitter" src=/images/twitter.png></a></li></ul></div><div class=footer-legal><p>&copy; Docport MIT Licence. | <a href=# rel=nofollow>Privacy Policy</a> | <a href=# rel=nofollow>Terms of Use</a> | <a href=# rel=nofollow>Terms of Sale</a></p><p>Docport is free Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim.</p><p>Various aspects of this website are ...blablabla</p></div></div></div></footer></body></html>